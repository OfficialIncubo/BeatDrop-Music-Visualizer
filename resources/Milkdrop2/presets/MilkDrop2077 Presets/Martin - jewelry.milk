MILKDROP_PRESET_VERSION=201
PSVERSION=3
PSVERSION_WARP=3
PSVERSION_COMP=3
[preset00]
fRating=4.000
fGammaAdj=1.900
fDecay=0.980
fVideoEchoZoom=1.169
fVideoEchoAlpha=0.000
nVideoEchoOrientation=0
nWaveMode=6
bAdditiveWaves=1
bWaveDots=0
bWaveThick=0
bModWaveAlphaByVolume=1
bMaximizeWaveColor=0
bTexWrap=1
bDarkenCenter=0
bRedBlueStereo=0
bBrighten=0
bDarken=0
bSolarize=0
bInvert=0
fWaveAlpha=0.002
fWaveScale=8.517
fWaveSmoothing=0.090
fWaveParam=0.000
fModWaveAlphaStart=0.710
fModWaveAlphaEnd=1.300
fWarpAnimSpeed=1.459
fWarpScale=2.007
fZoomExponent=1.00000
fShader=0.000
zoom=0.99990
rot=0.00000
cx=0.500
cy=0.500
dx=0.00000
dy=0.00000
warp=0.01000
sx=0.99990
sy=1.00000
wave_r=0.000
wave_g=1.000
wave_b=0.000
wave_x=0.500
wave_y=0.500
ob_size=0.000
ob_r=0.000
ob_g=0.000
ob_b=0.000
ob_a=1.000
ib_size=0.260
ib_r=0.250
ib_g=0.250
ib_b=0.250
ib_a=0.000
nMotionVectorsX=64.000
nMotionVectorsY=48.000
mv_dx=0.000
mv_dy=0.000
mv_l=0.000
mv_r=1.000
mv_g=1.000
mv_b=1.000
mv_a=0.000
b1n=0.000
b2n=0.000
b3n=0.000
b1x=1.000
b2x=1.000
b3x=0.500
b1ed=0.250
wavecode_0_enabled=0
wavecode_0_samples=512
wavecode_0_sep=0
wavecode_0_bSpectrum=0
wavecode_0_bUseDots=0
wavecode_0_bDrawThick=1
wavecode_0_bAdditive=0
wavecode_0_scaling=1.00000
wavecode_0_smoothing=0.50000
wavecode_0_r=1.000
wavecode_0_g=1.000
wavecode_0_b=1.000
wavecode_0_a=1.000
wavecode_1_enabled=0
wavecode_1_samples=512
wavecode_1_sep=0
wavecode_1_bSpectrum=0
wavecode_1_bUseDots=0
wavecode_1_bDrawThick=1
wavecode_1_bAdditive=0
wavecode_1_scaling=1.00000
wavecode_1_smoothing=0.50000
wavecode_1_r=1.000
wavecode_1_g=1.000
wavecode_1_b=1.000
wavecode_1_a=1.000
wavecode_2_enabled=0
wavecode_2_samples=512
wavecode_2_sep=0
wavecode_2_bSpectrum=0
wavecode_2_bUseDots=1
wavecode_2_bDrawThick=1
wavecode_2_bAdditive=0
wavecode_2_scaling=1.00000
wavecode_2_smoothing=0.50000
wavecode_2_r=1.000
wavecode_2_g=1.000
wavecode_2_b=1.000
wavecode_2_a=1.000
wavecode_3_enabled=0
wavecode_3_samples=512
wavecode_3_sep=0
wavecode_3_bSpectrum=0
wavecode_3_bUseDots=0
wavecode_3_bDrawThick=1
wavecode_3_bAdditive=0
wavecode_3_scaling=1.00000
wavecode_3_smoothing=0.50000
wavecode_3_r=1.000
wavecode_3_g=0.100
wavecode_3_b=0.000
wavecode_3_a=0.010
shapecode_0_enabled=1
shapecode_0_sides=12
shapecode_0_additive=0
shapecode_0_thickOutline=1
shapecode_0_textured=0
shapecode_0_num_inst=120
shapecode_0_x=0.500
shapecode_0_y=0.500
shapecode_0_rad=0.04914
shapecode_0_ang=0.00000
shapecode_0_tex_ang=0.62832
shapecode_0_tex_zoom=1.00000
shapecode_0_r=1.000
shapecode_0_g=0.000
shapecode_0_b=0.000
shapecode_0_a=0.200
shapecode_0_r2=0.000
shapecode_0_g2=0.000
shapecode_0_b2=0.000
shapecode_0_a2=0.000
shapecode_0_border_r=0.000
shapecode_0_border_g=1.000
shapecode_0_border_b=0.000
shapecode_0_border_a=0.000
shape_0_per_frame1=rad = reg06;
shape_0_per_frame2=i=instance;
shape_0_per_frame3=mm += (frame%4==0)*.1;;
shape_0_per_frame4=num_c = reg05;
shape_0_per_frame5=c = i%num_c;
shape_0_per_frame6=k2 = 100/num_inst*num_c*reg60*q21;
shape_0_per_frame7=
shape_0_per_frame8=if (c==0,
shape_0_per_frame9= ma+=above(bass,1)*below(bass,1.6)*0.01*bass*k2;
shape_0_per_frame10= ma-=above(treb,1)*below(treb,1.6)*0.01*treb*k2;
shape_0_per_frame11=
shape_0_per_frame12=  mx+=(.001*cos(ma)) * k2;
shape_0_per_frame13=  my+=(.001*sin(ma)) * k2;
shape_0_per_frame14=
shape_0_per_frame15=  mx=if(above(mx,1.01),(1.01-mx),mx);
shape_0_per_frame16=  my=if(above(my,1.01),(1.01-my),my);
shape_0_per_frame17=  mx=if(below(mx,-0.01),(1.01+mx),mx);
shape_0_per_frame18=  my=if(below(my,-0.01),(1.01+my),my);
shape_0_per_frame19=,0);
shape_0_per_frame20=
shape_0_per_frame21=ca=c/num_c*6.28;
shape_0_per_frame22=x1=mx-0.5;
shape_0_per_frame23=y1=my-0.5;
shape_0_per_frame24=
shape_0_per_frame25=x=  x1*cos(ca)-y1*sin(ca) + 0.5;
shape_0_per_frame26=y= (x1*sin(ca)+y1*cos(ca))*reg32 + 0.5;
shape_0_per_frame27=reg70+= 0.7/sqrt(0.005+sqr(x-0.5)+sqr(y-0.5));
shape_0_per_frame28=
shape_0_per_frame29=gmegabuf(i*2) = x;
shape_0_per_frame30=gmegabuf(i*2+1) = y;
shape_0_per_frame31=
shape_0_per_frame32=a=if(additive,0.2,min(1,k2/12*reg05));
shape_0_per_frame33=rad*= reg70<reg71;
shapecode_1_enabled=1
shapecode_1_sides=6
shapecode_1_additive=0
shapecode_1_thickOutline=1
shapecode_1_textured=0
shapecode_1_num_inst=12
shapecode_1_x=0.500
shapecode_1_y=0.500
shapecode_1_rad=0.03697
shapecode_1_ang=0.00000
shapecode_1_tex_ang=0.00000
shapecode_1_tex_zoom=1.00000
shapecode_1_r=0.800
shapecode_1_g=0.000
shapecode_1_b=0.400
shapecode_1_a=0.400
shapecode_1_r2=0.000
shapecode_1_g2=0.000
shapecode_1_b2=0.000
shapecode_1_a2=1.000
shapecode_1_border_r=1.000
shapecode_1_border_g=0.000
shapecode_1_border_b=0.000
shapecode_1_border_a=0.700
shape_1_per_frame1=num_c = reg05;
shape_1_per_frame2=i=instance;
shape_1_per_frame3=c=i%num_c;
shape_1_per_frame4=p=int(i/num_c);
shape_1_per_frame5=n = 2*c;
shape_1_per_frame6=x = gmegabuf(n);
shape_1_per_frame7=y = gmegabuf(n+1);
shape_1_per_frame8=
shape_1_per_frame9=rad = reg06*1.6* max(0, 1-q3+q3*sin (frame/10) * frame%2) *  (1-p*0.5);
shape_1_per_frame10=a=0.8; a2=0.8;
shape_1_per_frame11=r2=0.2; r=.2;
shape_1_per_frame12=b=0.4+0.5*p; b2=0; 
shape_1_per_frame13=
shape_1_per_frame14=g2=(rand(1)>0.8)/2;
shape_1_per_frame15=m=2*num_c+n;
shape_1_per_frame16=dx=gmegabuf(m)-x;
shape_1_per_frame17=dy=gmegabuf(m+1)-y;
shape_1_per_frame18=ang = atan2(-dy,dx);
shape_1_per_frame19=
shape_1_per_frame20=rad*= (reg70<reg71) * (i<2*num_c);
shapecode_2_enabled=1
shapecode_2_sides=10
shapecode_2_additive=1
shapecode_2_thickOutline=1
shapecode_2_textured=0
shapecode_2_num_inst=120
shapecode_2_x=0.500
shapecode_2_y=0.500
shapecode_2_rad=0.10000
shapecode_2_ang=0.00000
shapecode_2_tex_ang=0.00000
shapecode_2_tex_zoom=1.00000
shapecode_2_r=0.000
shapecode_2_g=1.000
shapecode_2_b=0.000
shapecode_2_a=0.000
shapecode_2_r2=0.000
shapecode_2_g2=0.000
shapecode_2_b2=0.000
shapecode_2_a2=0.000
shapecode_2_border_r=0.000
shapecode_2_border_g=1.000
shapecode_2_border_b=0.000
shapecode_2_border_a=0.000
shape_2_per_frame1=num_c = reg05;
shape_2_per_frame2=i=instance;
shape_2_per_frame3=c=i%num_c;
shape_2_per_frame4=x = gmegabuf(i*2);
shape_2_per_frame5=y = gmegabuf(i*2+1);
shape_2_per_frame6=
shape_2_per_frame7=rad = reg06*1.5;
shape_2_per_frame8=
shape_2_per_frame9=n=int(i/num_c);
shape_2_per_frame10=border_a = 1 * (n%6==0) *(rand(2)>1)* (frame%5==0);
shape_2_per_frame11=rad*= reg70<reg71;
shapecode_3_enabled=0
shapecode_3_sides=10
shapecode_3_additive=1
shapecode_3_thickOutline=0
shapecode_3_textured=0
shapecode_3_num_inst=40
shapecode_3_x=0.500
shapecode_3_y=0.500
shapecode_3_rad=0.10000
shapecode_3_ang=0.00000
shapecode_3_tex_ang=0.00000
shapecode_3_tex_zoom=1.00000
shapecode_3_r=0.400
shapecode_3_g=0.000
shapecode_3_b=0.000
shapecode_3_a=0.500
shapecode_3_r2=0.000
shapecode_3_g2=0.000
shapecode_3_b2=0.000
shapecode_3_a2=0.000
shapecode_3_border_r=1.000
shapecode_3_border_g=1.000
shapecode_3_border_b=1.000
shapecode_3_border_a=0.000
per_frame_init_1=n = -10000; loop (20000, megabuf(n)=0; gmegabuf(n)=0; n +=1; );
per_frame_init_2=
per_frame_init_3=MINBPM = 35; MAXBPM = 210; num_res = 400; 
per_frame_init_4=index = 0;
per_frame_init_5=loop (num_res,
per_frame_init_6=  n = index*8;
per_frame_init_7=  BPM      = minbpm * pow(maxbpm/minbpm,index/(num_res-1));
per_frame_init_8=  megabuf(n) = BPM;
per_frame_init_9=  index += 1;
per_frame_init_10=);
per_frame_init_11=
per_frame_init_12=reg05 = 2; //num_c
per_frame_init_13=pi = 3.1416;
per_frame_init_14=reg71=16000; //glb lim
per_frame_init_15=
per_frame_1=BPM=135;
per_frame_2=dt = min (1/fps,0.1) ;
per_frame_3=dec_m = 1-4*dt; dec_s = 1-dt;
per_frame_4=vol =  (bass+mid+treb)/3; 
per_frame_5=vol_ = vol_*dec_m + (1-dec_m)*vol; 
per_frame_6=bt=(vol>pk)&&(time>t0+1);
per_frame_7=if(bt,t0=time;pk=4+vol*4;reg70=0,0);
per_frame_8=pk-=dt*pow(reg70/reg71,2); idx+=bt; idx2+=bt*(idx%4==0);
per_frame_9=
per_frame_10=q21 = max(0.3,min(1.7,vol_-0.2))*0.8;
per_frame_11=q24 = bt;
per_frame_12=
per_frame_13=n=49; loop(50,megabuf(n+1)=megabuf(n); n-=1); megabuf(0)=bt;
per_frame_14=
per_frame_15=if(bt,r1=rand(1);r2=rand(0),0);
per_frame_16=//if(megabuf(6)==1,r2=rand(1),0);
per_frame_17=r1_=r1_*0.95+0.05*r1;
per_frame_18=r2_=r2_*0.9+0.1*r2;
per_frame_19=
per_frame_20=fg = BPM/60/2; Q=5; omega = 6.283*min(0.5,fg/fps); tcos = cos (omega); alpha = sin(omega)/(2*Q);
per_frame_21=b0=(1-tcos)/2; b1=1-tcos; b2=(1-tcos)/2; a0=1+alpha; a1=-2*tcos; a2=1-alpha;
per_frame_22=b0a0=b0/a0; b1a0=b1/a0; b2a0=b2/a0; a1a0=a1/a0; a2a0=a2/a0;
per_frame_23=
per_frame_24=Xa = r1_; LOa= b0a0*Xa + b1a0*in1a + b2a0*in2a - a1a0*ou1a - a2a0*ou2a;
per_frame_25=in2a =in1a; in1a =Xa; ou2a =ou1a;  ou1a =LOa; Xa =LOa;
per_frame_26=
per_frame_27=Xb = r2_; LOb= b0a0*Xb + b1a0*in1b + b2a0*in2b - a1a0*ou1b - a2a0*ou2b;
per_frame_28=in2b =in1b; in1b =Xb; ou2b =ou1b;  ou1b =LOb; Xb =LOb;
per_frame_29=
per_frame_30=q10 =xa;
per_frame_31=q11 =xb;
per_frame_32=
per_frame_33=if (bt_,c1=int(1+rand(9));c2=int(1+rand(9));c3=int(1+rand(9));r5=rand(1),0);
per_frame_34=q1=int(c1*100+c2*10+c3);
per_frame_35=if (bt_,c4=1+rand(9);c5=1+rand(9);c6=1+rand(9),0);
per_frame_36=s=9/max(c4,max(c5,c6));
per_frame_37=q4=int(c4*s*100)+int(c5*s*10)+int(s*c6);
per_frame_38=q2=r5*0.9+0.1;
per_frame_39=bt_=bt;
per_frame_40=
per_frame_41=
per_frame_42=if (bt, reg05=2+int(rand(4)); dir=if(rand(1)>0.5,1,-1);gri=3+rand(4)*rand(4),0);
per_frame_43=ang += BPM/60*4*dir*dt;
per_frame_44=q5=gri;
per_frame_45=reg60 = 30/fps;
per_frame_46=reg06 = 0.04*aspecty;
per_frame_47=reg32 = aspecty;
per_frame_48=
per_frame_49=q9 = ang*pi/4;
per_frame_50=dec = if(vol>v_,0.5,dec_m);
per_frame_51=v_= dec*v_+(1-dec)*vol;
per_frame_52=q15=sqrt(v_)*0.8;
per_frame_53=q3 = 4;
per_frame_54=
per_pixel_1=rot = 0; warp = 0; dy = -0.00;  dx = -1;
per_pixel_2=
per_pixel_3=zoom = 1;
per_pixel_4=rot = 3.1416*2/3 * 0;
per_pixel_5=
per_pixel_6=
warp_1=`#define sat saturate
warp_2=`sampler sampler_pw_noise_lq;
warp_3=`#define GB1 GetBlur3
warp_4=`
warp_5=`shader_body {
warp_6=`//uv = uv_orig;
warp_7=`float2 noise = tex2D(sampler_noise_lq,uv+rand_frame)*0.5+0.5;
warp_8=`ret = max (GetPixel(uv_orig),GetPixel(uv))  * (1-q24*float3(1,1,1));
warp_9=`}
warp_10=`
warp_11=`
comp_1=`#define sat saturate
comp_2=`float3 bcol,mcol;
comp_3=`float2 uv0,uv1,uv2,uv3,dz,dzw, dzb;
comp_4=`float bri, shine,radi,mask;
comp_5=`static const float anz=20;
comp_6=`static const float2 lpos =float2 (q10,q11);
comp_7=`static const float3 col1 = frac(q1*float3(.001,.01,0.1))+0.25;
comp_8=`static const float3 col2 = frac(q4*float3(.001,.01,0.1));
comp_9=`static float2 hor = float2(1,0)*texsize.zw;
comp_10=`static float2 ver = float2(0,1)*texsize.zw;
comp_11=`#define GB1 GetBlur1
comp_12=`#define GB2 GetBlur2
comp_13=`#define GB3 GetBlur3
comp_14=`#define GP GetPixel
comp_15=`
comp_16=`float noise2 (float2 uvi)
comp_17=`{float tmp=0; float mul = 1; uvi*= 2; ;
comp_18=`for (int n= 0; n <= 1; n++) {  tmp += tex2D(sampler_noise_lq, uvi*mul)/mul;mul *= 2;};
comp_19=`return tmp * 0.05+sat(.04/length(sin(uvi*64)));}
comp_20=`
comp_21=`
comp_22=`float vnoise (float2 uvi)
comp_23=`{float tmp=0; float m=1; uvi*= q5; 
comp_24=`for (int n=0; n <= 2; n++) {tmp += tex3D(sampler_noisevol_lq, float3(uvi*m,time*0.1*m))/m; m *= 2;}
comp_25=`return (tmp-1);}
comp_26=`
comp_27=`
comp_28=`shader_body
comp_29=`{
comp_30=`uv0 = uv;
comp_31=`mask = saturate (-1+8*(GP(uv0).r));
comp_32=`uv = (uv-0.5)*(1+ 0.014*sin(323*rad-time*22)*pow(rad,6))+0.5;
comp_33=`
comp_34=`dz.x = GB1(uv+hor*4).r-GB1(uv-hor*4).r;
comp_35=`dz.y = GB1(uv+ver*4).r-GB1(uv-ver*4).r;
comp_36=`dz*=1/GB2(uv).r * (mask>0) * 0.3;
comp_37=`
comp_38=`dzw.x = noise2(uv+hor)-noise2(uv-hor);
comp_39=`dzw.y = noise2(uv+ver)-noise2(uv-ver);
comp_40=`
comp_41=`mcol = lerp (lerp (col2,col1,length(dz)*2),(1+col1.zxy)/2,sat(4*GetBlur1(uv).g));
comp_42=`
comp_43=`bcol = (1+sin(float3(ang,ang+1,ang+2)))/2;
comp_44=`bcol = lerp (bcol,col1,q2);
comp_45=`
comp_46=`dz += 2*dzw * (tex2D(sampler_noise_hq,uv).r>0.8);
comp_47=`dz += 3*dzw* (GB1(uv).g>0.2);
comp_48=`
comp_49=`uv2 = uv+dzw;
comp_50=`ret = 8*GB3(uv2).b*bcol;;
comp_51=`
comp_52=`bri = GetBlur1(uv+-dz*.7).r-0.12;
comp_53=`ret = lerp (ret,.25*bri, mask );;
comp_54=`
comp_55=`ret += 0.08/length(sin(1*uv+dz*6)-lpos) * mcol * mask;
comp_56=`
comp_57=`dzb.x = 2*lum(GB1(uv+hor*2).b)-2*lum(GB1(uv-hor*2).b);
comp_58=`dzb.y = 2*lum(GB1(uv+ver*2).b)-2*lum(GB1(uv-ver*2).b);
comp_59=`
comp_60=`float bmask = sat(GP(uv).b*8);
comp_61=`ret = lerp(ret, (ret+GB1(uv).b)*(2+2/length(uv*0.5+32*dzb*vnoise(uv)))*bcol, bmask);
comp_62=`
comp_63=`uv2 = uv-lpos;
comp_64=`uv3 = (uv-0.5)*0.9+.5+(lpos-0.5)*.2;
comp_65=`float k1=0.17/sqrt(length(uv2+dzw))*!mask;
comp_66=`ret +=  k1* sat(1-2*GB2(uv3).r*!mask)*q15*(1-rad)*col1; //lamp
comp_67=`
comp_68=`ret +=  GB3(uv-dz).b*16*mask*bcol; //blue mirr
comp_69=`
comp_70=`shine = 0; radi = 0.95;
comp_71=`for (int n=1; n <= anz; n++)
comp_72=`{ shine += 1/anz*GetBlur2((uv0-.5)*radi+.5).b;
comp_73=`  radi -= 0.95/anz;}
comp_74=`ret += 32*shine*min(1,2*rad) *saturate(sin(ang-q9))* bcol;
comp_75=`ret=1-exp(-1.8*ret);
comp_76=`
comp_77=`//if (uv.y>0.9) {if (uv.x<0.5) {ret=col1;} else {ret=col2;}}
comp_78=`}
comp_79=`//martin

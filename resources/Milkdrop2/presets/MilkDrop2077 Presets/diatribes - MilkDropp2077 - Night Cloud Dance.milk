MILKDROP_PRESET_VERSION=201
PSVERSION=4
PSVERSION_WARP=4
PSVERSION_COMP=3
[preset00]
fRating=5.000
fGammaAdj=1.460
fDecay=0.935
fVideoEchoZoom=1.007
fVideoEchoAlpha=0.500
nVideoEchoOrientation=2
nWaveMode=15
bAdditiveWaves=1
bWaveDots=0
bWaveThick=1
bModWaveAlphaByVolume=0
bMaximizeWaveColor=1
bTexWrap=1
bDarkenCenter=0
bRedBlueStereo=0
bBrighten=1
bDarken=1
bSolarize=0
bInvert=0
fWaveAlpha=0.001
fWaveScale=0.625
fWaveSmoothing=0.900
fWaveParam=0.000
fModWaveAlphaStart=0.880
fModWaveAlphaEnd=1.980
fWarpAnimSpeed=1.459
fWarpScale=2.007
fZoomExponent=1.00000
fShader=1.000
zoom=0.99990
rot=0.00000
cx=0.500
cy=0.500
dx=0.00000
dy=0.00000
warp=0.01000
sx=0.99990
sy=1.00000
wave_r=0.000
wave_g=0.000
wave_b=0.000
wave_x=0.500
wave_y=0.500
ob_size=0.000
ob_r=0.000
ob_g=0.000
ob_b=0.200
ob_a=1.000
ib_size=0.000
ib_r=0.000
ib_g=0.000
ib_b=0.000
ib_a=0.000
nMotionVectorsX=64.000
nMotionVectorsY=48.000
mv_dx=0.000
mv_dy=0.000
mv_l=1.000
mv_r=1.060
mv_g=1.000
mv_b=0.819
mv_a=0.000
b1n=0.000
b2n=0.000
b3n=0.000
b1x=1.000
b2x=1.000
b3x=1.000
b1ed=0.250
per_frame_init_1=// clear screen first
per_frame_init_2=ob_r = 0; ob_g = 0; ob_b = 0; ob_a = 1;
per_frame_init_3=ob_size = 0.5;
per_frame_init_4=ob_a = 0;
per_frame_init_5=t = -1000;
per_frame_init_6=count = 0;
per_frame_init_7=avg = 0;
per_frame_1=dec_med = dec_med*0.9 + min(1,max(0, bass_att-1))*0.02;
per_frame_2=dec_hard = dec_hard*0.95 + min(1,max(0, treb_att-1))*0.01;
per_frame_3=med = med - dec_med*2;
per_frame_4=hard = hard - dec_hard*2;
per_frame_5=vol = (med+hard)*0.5;
per_frame_6=bass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);
per_frame_7=q1 = vol;
per_frame_8=q2 = bass_thresh;
per_frame_9=mtime = mtime+vol*0.002;
per_frame_10=q3 = mtime;
per_frame_11=count = count+1;
per_frame_12=avg = avg*0.95 + vol*0.05;
per_frame_13=q4 = avg;
per_frame_14=monitor = q4;
per_frame_15=t = if(above(avg,0.7),t+min(vol,0.04),t);
per_frame_16=//t = t + max(min(vol*2,0.02),-0.02);
per_frame_17=q5 = t;
per_frame_18=wave_a = 0;
per_frame_19=ob_size = 0.075;
per_frame_20=ob_a = above(t,1000);
per_frame_21=ob_r = 0.5 + 0.5*sin(t*0.365);
per_frame_22=ob_g = 0.5 + 0.5*sin(t*0.355);
per_frame_23=ob_b = 0.5 + 0.5*sin(t*0.345);
per_frame_24=rot = 0;
per_frame_25=decay = 0.95;
per_frame_26=warp = 0;
per_frame_27=wave_x = 0.5 + 0.15*sin(t*0.23);
per_frame_28=wave_y = 0.5 + 0.15*sin(t*0.27);
per_frame_29=wave_r = 1;//0.5 + 0.5*sin(t*0.313);
per_frame_30=wave_g = 1;//0.5 + 0.5*sin(t*0.383);
per_frame_31=wave_b = 1;//0.5 + 0.5*sin(t*0.323);
per_frame_32=wave_mystery = sin(cos(q5)*1000);
warp_1=`//Shader from diatribes
warp_2=`//https://www.shadertoy.com/view/3cjcWD
warp_3=`//Ported to MilkDrop by MilkDrop2077
warp_4=`
warp_5=`shader_body
warp_6=`{
warp_7=`    float4 col = 0;
warp_8=`    float2 coord = (uv * 2) - 1;       
warp_9=`    coord *= aspect.xy;                
warp_10=`    coord = float2(coord.x, -coord.y); 
warp_11=`    float dist, angle, temp, stepVal;
warp_12=`    float iter = 0;
warp_13=`    float t = time * 0.5;
warp_14=`    float3 entityPos, pos = float3(uv.x, uv.y, 0);
warp_15=`
warp_16=`    coord += float2(cos(t * 0.4) * 0.3, cos(t * 0.8) * 0.1);
warp_17=`
warp_18=`    for (col *= iter; iter++ < 80;
warp_19=`         dist += stepVal = min(0.01 + 0.8 * abs(stepVal), temp = max(0.8 * temp, 0.01)),
warp_20=`         col += 1.0 / (stepVal + temp * 2.0))
warp_21=`
warp_22=`        for (pos = float3(coord * dist, dist + t),
warp_23=`             entityPos = pos - float3(
warp_24=`                 sin(sin(t) + t * 0.4+q1/6) * 8.0,
warp_25=`                 sin(sin(t) + t * 0.2) * 2.0,
warp_26=`                 16.0 + t + cos(t) * 8.0),
warp_27=`
warp_28=`             temp = 2.0 * length(entityPos) + 0.2,
warp_29=`             stepVal = lerp(temp * 0.02, 4.0 + pos.y, smoothstep(0.0, 12.0, length(entityPos))),
warp_30=`
warp_31=`             angle = 0.4; angle < 8.0; angle *= 1.4)
warp_32=`
warp_33=`            stepVal -= abs(dot(cos(t + 0.2 * pos.z + pos * angle), 0.11 + pos - pos)) / angle;
warp_34=`
warp_35=`    col = tanh(float4(1, 2, 5, 0) * col / 1e1 / length(coord - 0.65))*q2*0.6;
warp_36=`    ret = col;
warp_37=`}
comp_1=`shader_body
comp_2=`{
comp_3=`//MilkDrop3 Flip Mode:
comp_4=`//uv = 1-uv;
comp_5=`
comp_6=` ret = GetPixel(uv);
comp_7=`}
